#
# $Id$
#
# IsaMakefile for Pure
#

## targets

default: Pure
images: Pure
test:
all: images test


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log


## Pure

Pure: $(OUT)/Pure$(ML_SUFFIX)

$(OUT)/Pure$(ML_SUFFIX): CPure.thy General/ROOT.ML General/alist.ML             \
  General/buffer.ML General/file.ML General/graph.ML General/heap.ML            \
  General/history.ML General/name_mangler.ML General/name_space.ML              \
  General/ord_list.ML                                                           \
  General/output.ML General/path.ML General/position.ML                         \
  General/pretty.ML General/rat.ML General/scan.ML General/seq.ML               \
  General/source.ML General/stack.ML General/symbol.ML General/table.ML         \
  General/url.ML General/xml.ML IsaPlanner/focus_term_lib.ML                    \
  IsaPlanner/isa_fterm.ML IsaPlanner/isand.ML IsaPlanner/isaplib.ML             \
  IsaPlanner/rw_inst.ML IsaPlanner/rw_tools.ML IsaPlanner/term_lib.ML           \
  IsaPlanner/upterm_lib.ML Isar/ROOT.ML Isar/antiquote.ML Isar/args.ML          \
  Isar/attrib.ML Isar/auto_bind.ML Isar/calculation.ML Isar/constdefs.ML        \
  Isar/context_rules.ML Isar/element.ML Isar/find_theorems.ML                   \
  Isar/induct_attrib.ML Isar/isar_cmd.ML Isar/isar_output.ML                    \
  Isar/isar_syn.ML Isar/isar_thy.ML Isar/local_defs.ML Isar/local_syntax.ML	\
  Isar/local_theory.ML Isar/locale.ML Isar/method.ML Isar/net_rules.ML 		\
  Isar/object_logic.ML Isar/obtain.ML Isar/outer_keyword.ML Isar/outer_lex.ML 	\
  Isar/outer_parse.ML Isar/outer_syntax.ML Isar/proof.ML Isar/proof_context.ML	\
  Isar/proof_display.ML Isar/proof_history.ML Isar/rule_cases.ML                \
  Isar/session.ML Isar/skip_proof.ML Isar/specification.ML Isar/term_style.ML	\
  Isar/thy_header.ML Isar/toplevel.ML ML-Systems/cpu-timer-basis.ML             \
  ML-Systems/cpu-timer-gc.ML ML-Systems/polyml-posix.ML                         \
  ML-Systems/polyml-interrupt-timeout.ML ML-Systems/polyml.ML                   \
  ML-Systems/polyml-4.1.4-patch.ML ML-Systems/polyml-4.2.0.ML                   \
  ML-Systems/poplogml.ML ML-Systems/smlnj-basis-compat.ML                       \
  ML-Systems/smlnj-interrupt-timeout.ML                                         \
  ML-Systems/smlnj-compiler.ML ML-Systems/smlnj-pp-new.ML                       \
  ML-Systems/smlnj-pp-old.ML ML-Systems/smlnj-ptreql.ML                         \
  ML-Systems/smlnj.ML Proof/extraction.ML Proof/proof_rewrite_rules.ML          \
  Proof/proof_syntax.ML Proof/proofchecker.ML Proof/reconstruct.ML              \
  Pure.thy ROOT.ML Syntax/ROOT.ML Syntax/ast.ML Syntax/lexicon.ML               \
  Syntax/mixfix.ML Syntax/parser.ML Syntax/printer.ML Syntax/syn_ext.ML         \
  Syntax/syn_trans.ML Syntax/syntax.ML Syntax/type_ext.ML Thy/html.ML           \
  Thy/latex.ML Thy/present.ML Thy/thm_database.ML Thy/thm_deps.ML               \
  Thy/thy_info.ML Thy/thy_load.ML Tools/ROOT.ML Tools/class_package.ML          \
  Tools/codegen_thingol.ML Tools/codegen_serializer.ML Tools/codegen_package.ML \
  Tools/codegen_theorems.ML Tools/am_compiler.ML                                \
  Tools/am_interpreter.ML Tools/am_util.ML Tools/compute.ML axclass.ML          \
  Tools/nbe.ML Tools/nbe_eval.ML Tools/nbe_codegen.ML \
  codegen.ML compress.ML consts.ML context.ML defs.ML display.ML                \
  drule.ML envir.ML fact_index.ML goal.ML install_pp.ML library.ML              \
  logic.ML meta_simplifier.ML net.ML old_goals.ML pattern.ML                    \
  proof_general.ML proofterm.ML pure_thy.ML search.ML sign.ML                   \
  simplifier.ML sorts.ML tactic.ML tctical.ML term.ML theory.ML thm.ML          \
  type.ML type_infer.ML unify.ML
	@./mk


## special targets

Pure-copied:
	@./mk -C

RAW:
	@./mk -r

RAW-copied:
	@./mk -Cr


## clean

clean:
	@rm -f $(OUT)/Pure$(ML_SUFFIX) $(LOG)/Pure.gz $(OUT)/RAW $(LOG)/RAW.gz
